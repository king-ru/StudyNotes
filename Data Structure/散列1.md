## 散列查找法
### 基本思想
- 给数据分配地址：以关键字key为自变量，通过一个确定的函数h（散列函数），计算出对应的函数值h（key），作为数据对象的存储地址。

- 解决冲突：可能不同的关键字会映射到同一个散列地址上。
    即h(keyi)=h(keyj)(当keyi != keyj)，称为“冲突”。
    ---需要某种冲突解决策略。

### 散列函数设计方法
- 一个好的散列函数一半考虑下列两个因素：

    1.计算简单，以便提高转换速度

    2.关键词对应的地址空间分布均匀，以尽量减少冲突

### 数字关键字的散列函数构造
- 直接定址法：取关键词的某个线性函数值为散列地址.
h(key)=a*key+b    (a，b为常数)

- 除留余数法：散列函数为h(key)=key mod p
这里 p=tablesize；一般p取素数。

- 数字分析法：分析数字关键字在各位上的变化情况，取比较随机的位作为散列地址

  比如：取11位手机号码key的后四位作为地址
散列函数为：h(key)=atoi(key+7)    （k为char型指针）
刚开始key指向第一位，此时key指向第八位。

- 折叠法：把关键词分割成位数相同的几部分，然后叠加

               如：56793542
                          542
                          793
                         +056
                         ——————          h(56793542)=391
                         1391

- 平方取中法：让结果能够被更多的位数影响，折叠法也是。
            如：56793542

                    567935
                   乘以567935
                   ————
             3225506412905764
                        ——


### 字符关键字的散列函数构造
-  一个简单的散列函数——ASCII码加和法（操作的是字符串，每一个key[i]就是一个字符串）
    对字符型关键字key定义散列函数如下：
![](./photo1/6.png)
- 简单的改进——前3个字符移位法
![](./photo1/7.png)
- 好的散列函数——移位法
    涉及关键词所有n个字符，并且分布的很好。
    ![](./photo1/8.png)
  如：
  ![](./photo1/9.png)



### 散列处理冲突的方法

#### 常用处理冲突的思路：
- 换个位置: 开放地址法
- 同一位置的冲突对象组织在一起: 链地址法

### 开放地址法
- 定义：一旦产生了冲突（该地址已有其它元素），就按某 种规则去寻找另一空地址

- 基本操作：
若发生了第 i 次冲突，试探的下一个地址将增加di，基本公式是：
hi(key) = (h(key)+di) mod TableSize ( 1≤ i < TableSize ）

  di 决定了不同的解决冲突方案：线性探测（di = i）、平方探测（di = ± i2）、双散列（di = i*h2(key)）。

### 线性探测法
- 定义：以增量序列1,2，3......(TableSize-1),依次循环试探下一个存储地址。
- 散列表查找性能分析：
  - 成功平均查找长度（ASLs）
  - 不成功平均查找长度（ASLu）
  ![](./photo1/10.png)
  -   ASLu 就是看第一个空位出现的位置，如果后面第一个空位确定没有，就能确定该表中不存在该键。
